{"version":3,"sources":["../src/obniz/libs/embeds/ble/bleRemoteService.ts"],"names":[],"mappings":";;;;;AAAA,4DAAoC;AACpC,8FAAsE;AACtE,wFAAgE;AAEhE,MAAM,gBAAiB,SAAQ,oCAA0B;IASvD,YAAY,GAAQ;QAClB,KAAK,CAAC,GAAG,CAAC,CAAC;IACb,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,IAAI,aAAa;QACf,OAAO,iCAAuB,CAAC;IACjC,CAAC;IAED,IAAI,YAAY;QACd,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAEM,iBAAiB,CAAC,MAAW;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC/B,CAAC;IAEM,iBAAiB,CAAC,MAAW;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC/B,CAAC;IAEM,0BAA0B;QAC/B,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACjC,CAAC;IAEM,8BAA8B;QACnC,OAAO,IAAI,CAAC,oBAAoB,EAAE,CAAC;IACrC,CAAC;IAEM,gBAAgB;QACrB,MAAM,GAAG,GAAQ;YACf,GAAG,EAAE;gBACH,mBAAmB,EAAE;oBACnB,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO;oBAChC,YAAY,EAAE,mBAAS,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;iBAC9C;aACF;SACF,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,UAAU,CAAC,cAAmB;QACnC,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IAEM,kBAAkB,CAAC,eAAoB;QAC5C,IAAI,CAAC,gCAAgC,CAAC,eAAe,CAAC,CAAC;IACzD,CAAC;IAEM,wBAAwB,CAAC,cAAmB;IACnD,CAAC;IAEM,gCAAgC,CAAC,eAAsB;IAC9D,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","file":"bleRemoteService.js","sourcesContent":["import BleHelper from \"./bleHelper\";\r\nimport BleRemoteAttributeAbstract from \"./bleRemoteAttributeAbstract\";\r\nimport BleRemoteCharacteristic from \"./bleRemoteCharacteristic\";\r\n\r\nclass BleRemoteService extends BleRemoteAttributeAbstract {\r\n  public children: any;\r\n  public addChild: any;\r\n  public getChild: any;\r\n  public discoverChildrenWait: any;\r\n  public peripheral: any;\r\n  public uuid: any;\r\n  public parent: any;\r\n\r\n  constructor(obj: any) {\r\n    super(obj);\r\n  }\r\n\r\n  get parentName(): string | null {\r\n    return \"peripheral\";\r\n  }\r\n\r\n  get childrenClass(): any {\r\n    return BleRemoteCharacteristic;\r\n  }\r\n\r\n  get childrenName(): string | null {\r\n    return \"characteristics\";\r\n  }\r\n\r\n  get characteristics() {\r\n    return this.children;\r\n  }\r\n\r\n  public addCharacteristic(params: any) {\r\n    return this.addChild(params);\r\n  }\r\n\r\n  public getCharacteristic(params: any) {\r\n    return this.getChild(params);\r\n  }\r\n\r\n  public discoverAllCharacteristics() {\r\n    return this.discoverChildren();\r\n  }\r\n\r\n  public discoverAllCharacteristicsWait() {\r\n    return this.discoverChildrenWait();\r\n  }\r\n\r\n  public discoverChildren() {\r\n    const obj: any = {\r\n      ble: {\r\n        get_characteristics: {\r\n          address: this.peripheral.address,\r\n          service_uuid: BleHelper.uuidFilter(this.uuid),\r\n        },\r\n      },\r\n    };\r\n    this.parent.Obniz.send(obj);\r\n  }\r\n\r\n  public ondiscover(characteristic: any) {\r\n    this.ondiscovercharacteristic(characteristic);\r\n  }\r\n\r\n  public ondiscoverfinished(characteristics: any) {\r\n    this.ondiscovercharacteristicfinished(characteristics);\r\n  }\r\n\r\n  public ondiscovercharacteristic(characteristic: any) {\r\n  }\r\n\r\n  public ondiscovercharacteristicfinished(characteristics: any[]) {\r\n  }\r\n}\r\n\r\nexport default BleRemoteService;\r\n"]}