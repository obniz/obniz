{"version":3,"sources":["../src/obniz/libs/embeds/ble/bleRemoteService.ts"],"names":[],"mappings":";;;;;AAAA,4DAAoC;AACpC,8FAAsE;AACtE,wFAAgE;AAEhE,MAAM,gBAAiB,SAAQ,oCAA0B;IASvD,YAAY,GAAQ;QAClB,KAAK,CAAC,GAAG,CAAC,CAAC;IACb,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,IAAI,aAAa;QACf,OAAO,iCAAuB,CAAC;IACjC,CAAC;IAED,IAAI,YAAY;QACd,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAEM,iBAAiB,CAAC,MAAW;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC/B,CAAC;IAEM,iBAAiB,CAAC,MAAW;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC/B,CAAC;IAEM,0BAA0B;QAC/B,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACjC,CAAC;IAEM,8BAA8B;QACnC,OAAO,IAAI,CAAC,oBAAoB,EAAE,CAAC;IACrC,CAAC;IAEM,gBAAgB;QACrB,MAAM,GAAG,GAAQ;YACf,GAAG,EAAE;gBACH,mBAAmB,EAAE;oBACnB,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO;oBAChC,YAAY,EAAE,mBAAS,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;iBAC9C;aACF;SACF,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,UAAU,CAAC,cAAmB;QACnC,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IAEM,kBAAkB,CAAC,eAAoB;QAC5C,IAAI,CAAC,gCAAgC,CAAC,eAAe,CAAC,CAAC;IACzD,CAAC;IAEM,wBAAwB,CAAC,cAAmB;IACnD,CAAC;IAEM,gCAAgC,CAAC,eAAsB;IAC9D,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","file":"bleRemoteService.js","sourcesContent":["import BleHelper from \"./bleHelper\";\nimport BleRemoteAttributeAbstract from \"./bleRemoteAttributeAbstract\";\nimport BleRemoteCharacteristic from \"./bleRemoteCharacteristic\";\n\nclass BleRemoteService extends BleRemoteAttributeAbstract {\n  public children: any;\n  public addChild: any;\n  public getChild: any;\n  public discoverChildrenWait: any;\n  public peripheral: any;\n  public uuid: any;\n  public parent: any;\n\n  constructor(obj: any) {\n    super(obj);\n  }\n\n  get parentName(): string | null {\n    return \"peripheral\";\n  }\n\n  get childrenClass(): any {\n    return BleRemoteCharacteristic;\n  }\n\n  get childrenName(): string | null {\n    return \"characteristics\";\n  }\n\n  get characteristics() {\n    return this.children;\n  }\n\n  public addCharacteristic(params: any) {\n    return this.addChild(params);\n  }\n\n  public getCharacteristic(params: any) {\n    return this.getChild(params);\n  }\n\n  public discoverAllCharacteristics() {\n    return this.discoverChildren();\n  }\n\n  public discoverAllCharacteristicsWait() {\n    return this.discoverChildrenWait();\n  }\n\n  public discoverChildren() {\n    const obj: any = {\n      ble: {\n        get_characteristics: {\n          address: this.peripheral.address,\n          service_uuid: BleHelper.uuidFilter(this.uuid),\n        },\n      },\n    };\n    this.parent.Obniz.send(obj);\n  }\n\n  public ondiscover(characteristic: any) {\n    this.ondiscovercharacteristic(characteristic);\n  }\n\n  public ondiscoverfinished(characteristics: any) {\n    this.ondiscovercharacteristicfinished(characteristics);\n  }\n\n  public ondiscovercharacteristic(characteristic: any) {\n  }\n\n  public ondiscovercharacteristicfinished(characteristics: any[]) {\n  }\n}\n\nexport default BleRemoteService;\n"]}