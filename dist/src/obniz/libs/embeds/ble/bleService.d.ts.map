{"version":3,"sources":["../src/obniz/libs/embeds/ble/bleService.ts"],"names":[],"mappings":"AAAA,OAAO,oBAAoB,MAAM,wBAAwB,CAAC;AAI1D,cAAM,UAAW,SAAQ,oBAAoB;IACpC,iBAAiB,EAAE,GAAG,CAAC;IACvB,QAAQ,EAAE,GAAG,CAAC;IACd,iBAAiB,EAAE,GAAG,CAAC;IACvB,QAAQ,EAAE,GAAG,CAAC;IACd,IAAI,EAAE,GAAG,CAAC;IACV,UAAU,EAAE,GAAG,CAAC;gBAEX,GAAG,EAAE,GAAG;IAOpB,IAAI,UAAU,IAAI,MAAM,GAAG,IAAI,CAE9B;IAED,IAAI,YAAY,IAAI,MAAM,GAAG,IAAI,CAEhC;IAED,IAAI,aAAa,IAAI,GAAG,CAEvB;IAED,IAAI,OAAO;;;MAKV;IAEM,GAAG;IAaH,MAAM,CAAC,UAAU,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;CAG3C;AAED,eAAe,UAAU,CAAC","file":"bleService.d.ts","sourcesContent":["import BleAttributeAbstract from \"./bleAttributeAbstract\";\r\nimport BleCharacteristic from \"./bleCharacteristic\";\r\nimport BleHelper from \"./bleHelper\";\r\n\r\nclass BleService extends BleAttributeAbstract {\r\n  public addCharacteristic: any;\r\n  public addChild: any;\r\n  public getCharacteristic: any;\r\n  public getChild: any;\r\n  public uuid: any;\r\n  public peripheral: any;\r\n\r\n  constructor(obj: any) {\r\n    super(obj);\r\n\r\n    this.addCharacteristic = this.addChild;\r\n    this.getCharacteristic = this.getChild;\r\n  }\r\n\r\n  get parentName(): string | null {\r\n    return \"peripheral\";\r\n  }\r\n\r\n  get childrenName(): string | null {\r\n    return \"characteristics\";\r\n  }\r\n\r\n  get childrenClass(): any {\r\n    return BleCharacteristic;\r\n  }\r\n\r\n  get advData() {\r\n    return {\r\n      flags: [\"general_discoverable_mode\", \"br_edr_not_supported\"],\r\n      serviceUuids: [this.uuid],\r\n    };\r\n  }\r\n\r\n  public end() {\r\n    this.peripheral.Obniz.send({\r\n      ble: {\r\n        peripheral: {\r\n          stop_service: {\r\n            service_uuid: BleHelper.uuidFilter(this.uuid),\r\n          },\r\n        },\r\n      },\r\n    });\r\n    this.peripheral.removeService(this.uuid);\r\n  }\r\n\r\n  public notify(notifyName: any, params: any) {\r\n    // nothing\r\n  }\r\n}\r\n\r\nexport default BleService;\r\n"]}